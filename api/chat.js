import fetch from 'node-fetch';

export default async function handler(req, res) {
  // CORS headers
  res.setHeader('Access-Control-Allow-Origin', '*');
  res.setHeader('Access-Control-Allow-Methods', 'POST, OPTIONS');
  res.setHeader('Access-Control-Allow-Headers', 'Content-Type');

  if (req.method === 'OPTIONS') {
    return res.status(200).end();
  }

  if (req.method !== 'POST') {
    return res.status(405).json({ error: 'Method not allowed' });
  }

  try {
    const { message } = req.body;

    if (!message) {
      return res.status(400).json({ error: 'Message is required' });
    }

    console.log('Received message:', message);

    // –ü—Ä–æ–±—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DeepSeek API –µ—Å–ª–∏ –∫–ª—é—á –µ—Å—Ç—å
    const DEEPSEEK_API_KEY = process.env.DEEPSEEK_API_KEY;
    let reply;
    let source = 'local';

    if (DEEPSEEK_API_KEY) {
      try {
        const response = await fetch('https://api.deepseek.com/v1/chat/completions', {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${DEEPSEEK_API_KEY}`,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            model: 'deepseek-chat',
            messages: [
              {
                role: 'system',
                content: '–¢—ã –ø–æ–ª–µ–∑–Ω—ã–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ –æ –≤–∞—Ö—Ç–æ–≤–æ–π —Ä–∞–±–æ—Ç–µ –≤ –£—Ñ–µ –∏ –ë–∞—à–∫–∏—Ä–∏–∏. –û—Ç–≤–µ—á–∞–π –∫—Ä–∞—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.'
              },
              {
                role: 'user',
                content: message
              }
            ],
            max_tokens: 500,
            temperature: 0.7
          })
        });

        if (response.ok) {
          const result = await response.json();
          reply = result.choices[0]?.message?.content;
          source = 'deepseek-api';
          console.log('Successfully used DeepSeek API');
        } else {
          console.log('DeepSeek API failed, using local responses');
          reply = getLocalResponse(message);
        }
      } catch (apiError) {
        console.log('DeepSeek API error, using local responses:', apiError.message);
        reply = getLocalResponse(message);
      }
    } else {
      console.log('No API key, using local responses');
      reply = getLocalResponse(message);
    }

    return res.status(200).json({
      reply: reply,
      success: true,
      source: source
    });

  } catch (error) {
    console.error('Server error:', error);
    return res.status(500).json({ 
      error: 'Internal server error'
    });
  }
}

function getLocalResponse(message) {
  const userMessage = message.toLowerCase().trim();
  
  // –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –°–û–û–ë–©–ï–°–¢–í–ï
  const communityInfo = `üè¢ –°–û–û–ë–©–ï–°–¢–í–û "–£–§–ê –†–ê–ë–û–¢–ê –í–ê–•–¢–ê –ë–ê–®–ö–ò–†–ò–Ø"

üìã –û –ù–ê–°:
‚Ä¢ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –≤–∞–∫–∞–Ω—Å–∏–∏ –≤–∞—Ö—Ç–æ–≤—ã–º –º–µ—Ç–æ–¥–æ–º –≤ –£—Ñ–µ –∏ –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏
‚Ä¢ –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–∏ –∏ —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
‚Ä¢ –ß–µ—Å—Ç–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å: –±–µ–∑ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤ –∏ –æ–±–º–∞–Ω–∞

üë• –î–õ–Ø –ö–û–ì–û:
‚Ä¢ –†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è–º ‚Äî —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–π –∏ –±—ã—Å—Ç—Ä—ã–π –ø–æ–¥–±–æ—Ä —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤
‚Ä¢ –°–æ–∏—Å–∫–∞—Ç–µ–ª—è–º ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –ø–æ–Ω—è—Ç–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –∏ —Ä–µ–∞–ª—å–Ω–∞—è –∑–∞–Ω—è—Ç–æ—Å—Ç—å

üí¨ –ö–û–ù–¢–ê–ö–¢–´:
‚Ä¢ –ü–∏—à–∏—Ç–µ –Ω–∞–º –≤ —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
‚Ä¢ –†–∞–±–æ—Ç–∞ –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –∂–¥—É—Ç –∑–¥–µ—Å—å!

üöÄ –°–ö–û–†–û:
‚Ä¢ –†–µ–∞–ª—å–Ω—ã–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –Ω–∞ –±–∞–∑–µ DeepSeek –¥–ª—è —Ç–æ—á–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤`;

  // –í–ê–ö–ê–ù–°–ò–Ø –ò–ó–û–õ–ò–†–û–í–©–ò–ö–ê
  const vacancies = [
    {
      title: "üë∑‚Äç‚ôÇ –ò–∑–æ–ª–∏—Ä–æ–≤—â–∏–∫ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–≥–æ —Ç—Ä—É–±–æ–ø—Ä–æ–≤–æ–¥–∞",
      salary: "–æ—Ç 116 550 ‚ÇΩ + –ø—Ä–µ–º–∏–∏",
      schedule: "60 —Å–º–µ–Ω (–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ)",
      requirements: "–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –≤–∞—Ö—Ç–µ, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–µ–¥–ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∫–∞–∑–∞–Ω–∏–π, —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –Ω–æ—Ä–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –û–ø—ã—Ç –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!",
      conditions: "–ë–µ–ª–∞—è –∑–∞—Ä–ø–ª–∞—Ç–∞, –ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ, 3-—Ä–∞–∑–æ–≤–æ–µ –ø–∏—Ç–∞–Ω–∏–µ, –æ–ø–ª–∞—á–∏–≤–∞–µ–º–∞—è –º–µ–¥–∫–æ–º–∏—Å—Å–∏—è, –æ–±—É—á–µ–Ω–∏–µ —Å –Ω—É–ª—è, —Å–ø–µ—Ü–æ–¥–µ–∂–¥–∞, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –æ–ø–ª–∞—Ç–∞ –ø—Ä–æ–µ–∑–¥–∞, –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ —Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –∫–∞—Ä—å–µ—Ä–Ω—ã–π —Ä–æ—Å—Ç –¥–æ –±—Ä–∏–≥–∞–¥–∏—Ä–∞",
      contacts: "üìû 8-960-999-51-14 (–ú–∞—Ö)",
      description: `–†–ê–ë–û–¢–ê –ü–û –í–°–ï–ô –†–û–°–°–ò–ò ‚Ä¢ –í–ê–•–¢–û–í–´–ô –ú–ï–¢–û–î

–û–°–ù–û–í–ù–´–ï –ó–ê–î–ê–ß–ò:
üîπ –ò–∑–æ–ª—è—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ç—Ä—É–±–æ–ø—Ä–æ–≤–æ–¥–∞: –æ—Ç–≤–æ–¥–æ–≤, —Ç—Ä–æ–π–Ω–∏–∫–æ–≤, –∑–∞–ø–æ—Ä–Ω–æ–π –∞—Ä–º–∞—Ç—É—Ä—ã
üîπ –†–∞–±–æ—Ç–∞ —Å –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏: –ü–ü–£, –º–µ—Ç–∞–ª–ª, –º–∏–Ω–µ—Ä–∞–ª–æ–≤–∞—Ç–Ω—ã–µ —Ü–∏–ª–∏–Ω–¥—Ä—ã, –º–∏–Ω–≤–∞—Ç–∞, —Ñ–æ–ª—å–≥–∞ —Ç–∫–∞–Ω—å, —Ö–æ–ª–ª–æ—Ñ–∞–π–±–µ—Ä

–ú–û–ù–¢–ê–ñ –¢–ï–•–ù–û–õ–û–ì–ò–ß–ï–°–ö–ò–• –¢–†–£–ë–û–ü–†–û–í–û–î–û–í:
‚Ä¢ –ò–∑–æ–ª—è—Ü–∏—è –æ—Ç–≤–æ–¥–æ–≤ —Ç—Ä—É–±–æ–ø—Ä–æ–≤–æ–¥–∞ (–ü–ü–£, –º–µ—Ç–∞–ª–ª)
‚Ä¢ –ò–∑–æ–ª—è—Ü–∏—è —Ç—Ä–æ–π–Ω–∏–∫–æ–≤ —Ç—Ä—É–±–æ–ø—Ä–æ–≤–æ–¥–∞ (–º–∏–Ω–µ—Ä–∞–ª–æ–≤–∞—Ç–Ω—ã–µ —Ü–∏–ª–∏–Ω–¥—Ä—ã)  
‚Ä¢ –ò–∑–æ–ª—è—Ü–∏—è –∑–∞–ø–æ—Ä–Ω–æ–π –∞—Ä–º–∞—Ç—É—Ä—ã (–º–∏–Ω–≤–∞—Ç–∞, —Ñ–æ–ª—å–º–∞ —Ç–∫–∞–Ω—å)
‚Ä¢ –ú–æ–Ω—Ç–∞–∂ —Ç–µ–ø–ª–æ–∏–∑–æ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –Ω–∞ –≤—ã—Å–æ—Ç–µ 0-30 –º–µ—Ç—Ä–æ–≤

–û–ë–£–ß–ï–ù–ò–ï –° –ù–£–õ–Ø:
üéì –£—á–µ–±–Ω—ã–π –¶–µ–Ω—Ç—Ä –ú—ã—Ç–∏—â–∏ (6-7 –¥–Ω–µ–π)
‚Ä¢ –¢–µ–æ—Ä–∏—è –∏ –ø—Ä–∞–∫—Ç–∏–∫–∞ —Ç–µ–ø–ª–æ–∏–∑–æ–ª—è—Ü–∏–∏
‚Ä¢ –í—Å–µ —Ä–∞—Å—Ö–æ–¥—ã –∑–∞ —Å—á–µ—Ç –∫–æ–º–ø–∞–Ω–∏–∏!`
    }
  ];

  // –î–û–ö–£–ú–ï–ù–¢–´
  const documents = `üìÑ –î–û–ö–£–ú–ï–ù–¢–´ –î–õ–Ø –¢–†–£–î–û–£–°–¢–†–û–ô–°–¢–í–ê:

–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:
‚Ä¢ –ü–∞—Å–ø–æ—Ä—Ç –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω–∞ –†–§
‚Ä¢ –°–ù–ò–õ–°
‚Ä¢ –ò–ù–ù
‚Ä¢ –¢—Ä—É–¥–æ–≤–∞—è –∫–Ω–∏–∂–∫–∞
‚Ä¢ –í–æ–µ–Ω–Ω—ã–π –±–∏–ª–µ—Ç (–¥–ª—è –ø—Ä–∏–∑—ã–≤–Ω–æ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞)
‚Ä¢ –î–æ–∫—É–º–µ–Ω—Ç –æ–± –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏

üíä –ú–ï–î–ö–û–ú–ò–°–°–ò–Ø:
‚Ä¢ –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ - –ë–ï–°–ü–õ–ê–¢–ù–û
‚Ä¢ –û–ø–ª–∞—á–∏–≤–∞–µ—Ç –∫–æ–º–ø–∞–Ω–∏—è
‚Ä¢ –ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

üí¨ –ü–æ –≤—Å–µ–º –≤–æ–ø—Ä–æ—Å–∞–º —Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–∏—à–∏—Ç–µ –≤ –Ω–∞—à–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ!`;

  // –û–°–ù–û–í–ù–ê–Ø –õ–û–ì–ò–ö–ê –û–¢–í–ï–¢–û–í
  
  // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
  if (userMessage.includes('–ø—Ä–∏–≤–µ—Ç') || userMessage.includes('–∑–¥—Ä–∞–≤—Å—Ç–≤') || userMessage.includes('hello') || userMessage.includes('hi') || userMessage === 'start') {
    const greetings = [
      `–ü—Ä–∏–≤–µ—Ç! –Ø —á–∞—Ç-–ø–æ–º–æ—â–Ω–∏–∫ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ ¬´–£—Ñ–∞ –†–∞–±–æ—Ç–∞ –í–∞—Ö—Ç–∞ –ë–∞—à–∫–∏—Ä–∏—è¬ª üè¢

–ü–æ–º–æ–≥–∞—é —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –≤–∞–∫–∞–Ω—Å–∏–∏ –∏–∑–æ–ª–∏—Ä–æ–≤—â–∏–∫–∞ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–≥–æ —Ç—Ä—É–±–æ–ø—Ä–æ–≤–æ–¥–∞. 

üí¨ –ü–æ –≤—Å–µ–º –≤–æ–ø—Ä–æ—Å–∞–º —Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–∏—à–∏—Ç–µ –≤ –Ω–∞—à–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ. 

–ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?`,

      `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ ¬´–£—Ñ–∞ –†–∞–±–æ—Ç–∞ –í–∞—Ö—Ç–∞ –ë–∞—à–∫–∏—Ä–∏—è¬ª ü§ñ

–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Å—å –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏–∏ –∏–∑–æ–ª–∏—Ä–æ–≤—â–∏–∫–∞.

üè¢ –ù–∞—à–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ:
‚Ä¢ –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –≤–∞–∫–∞–Ω—Å–∏–∏ –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏
‚Ä¢ –ß–µ—Å—Ç–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å 
‚Ä¢ –†–∞–±–æ—Ç–∞ –±–µ–∑ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤

üí¨ –ü–æ —Å–ª–æ–∂–Ω—ã–º –≤–æ–ø—Ä–æ—Å–∞–º ‚Äî –ø–∏—à–∏—Ç–µ –Ω–∞–ø—Ä—è–º—É—é –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ!`
    ];
    return greetings[Math.floor(Math.random() * greetings.length)];
  }
  
  // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ–æ–±—â–µ—Å—Ç–≤–µ
  if (userMessage.includes('—Å–æ–æ–±—â–µ—Å—Ç–≤–æ') || userMessage.includes('—É—Ñ–∞ —Ä–∞–±–æ—Ç') || userMessage.includes('–±–∞—à–∫–∏—Ä–∏—è') || userMessage.includes('–æ –≤–∞—Å') || userMessage.includes('–∫–æ–Ω—Ç–∞–∫—Ç—ã')) {
    return communityInfo;
  }
  
  // –í–∞–∫–∞–Ω—Å–∏–∏
  if (userMessage.includes('–≤–∞–∫–∞–Ω—Å') || userMessage.includes('—Ä–∞–±–æ—Ç–∞') || userMessage.includes('–≤–∞—Ö—Ç–∞') || userMessage.includes('—Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π') || userMessage.includes('–∏–∑–æ–ª–∏—Ä–æ–≤')) {
    const job = vacancies[0];
    return `${job.title}\n\nüíµ –ó–ê–†–ü–õ–ê–¢–ê: ${job.salary}\nüìÖ –í–ê–•–¢–ê: ${job.schedule}\nüìã –¢–†–ï–ë–û–í–ê–ù–ò–Ø: ${job.requirements}\nüéì –£–°–õ–û–í–ò–Ø: ${job.conditions}\n\n${job.description}\n\n${job.contacts}\n\nüí¨ –ü–æ –≤–æ–ø—Ä–æ—Å–∞–º —Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–∏—à–∏—Ç–µ –≤ –Ω–∞—à–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ!`;
  }
  
  // –î–æ–∫—É–º–µ–Ω—Ç—ã
  if (userMessage.includes('–¥–æ–∫—É–º–µ–Ω—Ç') || userMessage.includes('–ø–∞—Å–ø–æ—Ä—Ç') || userMessage.includes('—Å–Ω–∏–ª—Å') || userMessage.includes('–∏–Ω–Ω') || userMessage.includes('—Ç—Ä—É–¥–æ–≤–∞—è')) {
    return documents;
  }
  
  // –û–±—É—á–µ–Ω–∏–µ
  if (userMessage.includes('–æ–±—É—á–µ–Ω') || userMessage.includes('—Å –Ω—É–ª—è') || userMessage.includes('–Ω–∞—É—á–∏—Ç—å') || userMessage.includes('–∫—É—Ä—Å') || userMessage.includes('—É—á–∏—Ç—å—Å—è')) {
    const training = [
      "üéì –ë–ï–°–ü–õ–ê–¢–ù–û–ï –æ–±—É—á–µ–Ω–∏–µ –∏–∑–æ–ª–∏—Ä–æ–≤—â–∏–∫–∞ —Å –Ω—É–ª—è! 6-7 –¥–Ω–µ–π –≤ –£–¶ –ú—ã—Ç–∏—â–∏, –∑–∞—Ç–µ–º —Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å –∑–∞—Ä–ø–ª–∞—Ç–æ–π –æ—Ç 116 550‚ÇΩ!\n\nüí¨ –î–ª—è –∑–∞–ø–∏—Å–∏ –Ω–∞ –æ–±—É—á–µ–Ω–∏–µ –ø–∏—à–∏—Ç–µ –≤ –Ω–∞—à–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ!",
      "–ú—ã –æ–±—É—á–∞–µ–º –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ –∏–∑–æ–ª–∏—Ä–æ–≤—â–∏–∫–∞ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–≥–æ —Ç—Ä—É–±–æ–ø—Ä–æ–≤–æ–¥–∞ —Å –Ω—É–ª—è. –í—Å–µ —Ä–∞—Å—Ö–æ–¥—ã –∑–∞ –Ω–∞—à —Å—á–µ—Ç!\n\nüí¨ –ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –æ–±—É—á–µ–Ω–∏—è ‚Äî –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ!"
    ];
    return training[Math.floor(Math.random() * training.length)];
  }
  
  // –ó–∞—Ä–ø–ª–∞—Ç–∞
  if (userMessage.includes('–∑–∞—Ä–ø–ª–∞—Ç') || userMessage.includes('–æ–ø–ª–∞—Ç') || userMessage.includes('–¥–æ—Ö–æ–¥') || userMessage.includes('–∑–∞—Ä–∞–±') || userMessage.includes('–¥–µ–Ω—å–≥')) {
    return `üíµ –ó–ê–†–ü–õ–ê–¢–ê –ò–ó–û–õ–ò–†–û–í–©–ò–ö–ê:
‚Ä¢ –û–¢ 116 550 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü
‚Ä¢ –ë–µ–ª–∞—è (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è) –∑–∞—Ä–∞–±–æ—Ç–Ω–∞—è –ø–ª–∞—Ç–∞
‚Ä¢ –ü—Ä–µ–º–∏–∏ –∑–∞ –ø–µ—Ä–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–∞
‚Ä¢ –°–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤—ã–ø–ª–∞—Ç—ã 2 —Ä–∞–∑–∞ –≤ –º–µ—Å—è—Ü–∞

üí¨ –ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –∑–∞—Ä–ø–ª–∞—Ç—ã –∏ –ø—Ä–µ–º–∏–π ‚Äî –ø–∏—à–∏—Ç–µ –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ!`;
  }
  
  // –ì—Ä–∞—Ñ–∏–∫
  if (userMessage.includes('–≥—Ä–∞—Ñ–∏–∫') || userMessage.includes('—Å–º–µ–Ω') || userMessage.includes('—Ä–µ–∂–∏–º') || userMessage.includes('–æ—Ç–ø—É—Å–∫') || userMessage.includes('–≤–∞—Ö—Ç')) {
    return `üìÖ –ì–†–ê–§–ò–ö –†–ê–ë–û–¢–´:
‚Ä¢ –í–∞—Ö—Ç–∞: 60 —Å–º–µ–Ω
‚Ä¢ –í–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –ø–æ –∂–µ–ª–∞–Ω–∏—é
‚Ä¢ –†–∞–±–æ—á–∏–π –¥–µ–Ω—å: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π
‚Ä¢ –û—Ç–¥—ã—Ö –º–µ–∂–¥—É –≤–∞—Ö—Ç–∞–º–∏

üí¨ –ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –≥—Ä–∞—Ñ–∏–∫–∞ ‚Äî –ø–∏—à–∏—Ç–µ –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ!`;
  }
  
  // –£—Å–ª–æ–≤–∏—è
  if (userMessage.includes('—É—Å–ª–æ–≤') || userMessage.includes('–ø—Ä–æ–∂–∏–≤–∞–Ω') || userMessage.includes('–ø–∏—Ç–∞–Ω–∏–µ') || userMessage.includes('–ø—Ä–æ–µ–∑–¥') || userMessage.includes('—Å–æ—Ü–ø–∞–∫–µ—Ç')) {
    return `üè† –°–û–¶–ò–ê–õ–¨–ù–´–ô –ü–ê–ö–ï–¢:
‚Ä¢ –ü—Ä–æ–∂–∏–≤–∞–Ω–∏–µ: –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è
‚Ä¢ –ü–∏—Ç–∞–Ω–∏–µ: 3-—Ä–∞–∑–æ–≤–æ–µ –≥–æ—Ä—è—á–µ–µ
‚Ä¢ –ü—Ä–æ–µ–∑–¥: –¥–æ–º-–æ–±—ä–µ–∫—Ç-–¥–æ–º –∑–∞ —Å—á–µ—Ç –∫–æ–º–ø–∞–Ω–∏–∏
‚Ä¢ –ú–µ–¥–∫–æ–º–∏—Å—Å–∏—è: –æ–ø–ª–∞—á–∏–≤–∞–µ–º–∞—è
‚Ä¢ –û–±—É—á–µ–Ω–∏–µ: –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Å –Ω—É–ª—è
‚Ä¢ –°–ø–µ—Ü–æ–¥–µ–∂–¥–∞ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è
‚Ä¢ –¢—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ

üí¨ –ü–æ –≤–æ–ø—Ä–æ—Å–∞–º —É—Å–ª–æ–≤–∏–π ‚Äî –ø–∏—à–∏—Ç–µ –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ!`;
  }
  
  // –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
  if (userMessage.includes('—Ç—Ä–µ–±–æ–≤–∞–Ω') || userMessage.includes('–Ω—É–∂–Ω') || userMessage.includes('–Ω–µ–æ–±—Ö–æ–¥') || userMessage.includes('–æ–ø—ã—Ç')) {
    return `üìã –¢–†–ï–ë–û–í–ê–ù–ò–Ø –ö –ö–ê–ù–î–ò–î–ê–¢–£:
‚Ä¢ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å –≤–∞—Ö—Ç–æ–≤—ã–º –º–µ—Ç–æ–¥–æ–º
‚Ä¢ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∫–∞–∑–∞–Ω–∏–π
‚Ä¢ –°–æ–±–ª—é–¥–µ–Ω–∏–µ –Ω–æ—Ä–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚Ä¢ –û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã –ù–ï –¢–†–ï–ë–£–ï–¢–°–Ø
‚Ä¢ –û–±—É—á–µ–Ω–∏–µ –ø—Ä–æ–≤–æ–¥–∏–º —Å –Ω—É–ª—è
‚Ä¢ –í–æ–∑—Ä–∞—Å—Ç: –æ—Ç 18 –ª–µ—Ç
‚Ä¢ –ì—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ –†–§

üí¨ –ü–æ –≤–æ–ø—Ä–æ—Å–∞–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π ‚Äî –ø–∏—à–∏—Ç–µ –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ!`;
  }
  
  // –ö–æ–Ω—Ç–∞–∫—Ç—ã
  if (userMessage.includes('–∫–æ–Ω—Ç–∞–∫—Ç') || userMessage.includes('—Ç–µ–ª–µ—Ñ–æ–Ω') || userMessage.includes('–∑–≤–æ–Ω') || userMessage.includes('—Å–≤—è–∑—å') || userMessage.includes('–ø–æ–∑–≤–æ–Ω–∏—Ç—å')) {
    return `üìû –ö–û–ù–¢–ê–ö–¢–´ –î–õ–Ø –¢–†–£–î–û–£–°–¢–†–û–ô–°–¢–í–ê:
‚Ä¢ –¢–µ–ª–µ—Ñ–æ–Ω: 8-960-999-51-14
‚Ä¢ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ: –ú–∞—Ö

üí¨ –¢–∞–∫–∂–µ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é –≤ –Ω–∞—à–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ ¬´–£—Ñ–∞ –†–∞–±–æ—Ç–∞ –í–∞—Ö—Ç–∞ –ë–∞—à–∫–∏—Ä–∏—è¬ª –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏!`;
  }
  
  // –û–ë–†–ê–ë–û–¢–ö–ê –ù–ï–ò–ó–í–ï–°–¢–ù–´–• –í–û–ü–†–û–°–û–í
  const fallbackResponses = [
    `–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! ü§î 

üè¢ –†–µ–∫–æ–º–µ–Ω–¥—É—é –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ –Ω–∞—à–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ ¬´–£—Ñ–∞ –†–∞–±–æ—Ç–∞ –í–∞—Ö—Ç–∞ –ë–∞—à–∫–∏—Ä–∏—è¬ª ‚Äî —Ç–∞–º —Ç–æ—á–Ω–æ –ø–æ–º–æ–≥—É—Ç —Å –≤–∞—à–∏–º –≤–æ–ø—Ä–æ—Å–æ–º!

üí¨ –ü–∏—à–∏—Ç–µ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ ‚Äî —Ä–∞–±–æ—Ç–∞ –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –∂–¥—É—Ç –≤–∞—Å!`,

    `–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –≤–æ–ø—Ä–æ—Å! üéØ

üè¢ –ù–∞—à–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ ¬´–£—Ñ–∞ –†–∞–±–æ—Ç–∞ –í–∞—Ö—Ç–∞ –ë–∞—à–∫–∏—Ä–∏—è¬ª —É–∂–µ —Å–µ–π—á–∞—Å –≥–æ—Ç–æ–≤–æ –ø–æ–º–æ—á—å:
‚Ä¢ –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –≤–∞–∫–∞–Ω—Å–∏–∏ –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏
‚Ä¢ –ß–µ—Å—Ç–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å 
‚Ä¢ –†–∞–±–æ—Ç–∞ –±–µ–∑ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤

üí¨ –ù–∞–ø–∏—à–∏—Ç–µ –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ ‚Äî –ø–æ–ª—É—á–∏—Ç–µ –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–æ–º–æ—â—å!`
  ];
  
  return fallbackResponses[Math.floor(Math.random() * fallbackResponses.length)];
}
